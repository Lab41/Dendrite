<!-- Modal (external ./partials/modal.html or inline ng-template) -->
<div>
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
    <h3>Select Keys for Search Index</h3>
  </div>

  <div class="modal-body">
    <div class="well">
      <p><strong>Choose which fields, if any, should be indexed for search.</strong></p>
      <p>**Note: the default "select all" option will make every field searchable, but at the expense of storing all data in two locations, namely the database and search engine.</p>
    </div>

    <div class="row-fluid row-padded" ng-repeat="key in keysForGraph">
      <div class="span2 offset3">
        <label class="checkbox" >
          <input type="checkbox" ng-model="selectedKeyTypes[key].selected" value="graph-key-{{keysForGraph.indexOf(key)}}" ng-checked="selectedKeyTypes[key].selected"> {{ key }}
        </label>
      </div>
      <div class="span3">
        <select class="input-small" ng-model="selectedKeyTypes[key].type">
          <option ng-repeat="t in indexTypes" ng-selected="{{ t===selectedKeyTypes[key].type }}">{{t}}</option>
        </select>
      </div>
  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-default" ng-click="dismiss()">Cancel</button>
    <button class="btn btn-primary" ng-click="loadGraph(); dismiss()">Load Graph</button>
  </div>
</div>
